@using JsWebApp.Model
@{
    ViewData["Title"] = "Home Page";
}
@model IList<Car>
@foreach (var item in Model) {
    <tr>
        <td>test:
            @Html.DisplayFor(modelItem => item.ID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
    </tr>
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>


<table id="apiTable">
    <thead>
        <tr>
            <th>ID</th>
            <th>mail</th>
            <th>firstname</th>
            <th>lastname</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<script type="text/javascript">
    ShowAllReservation();
 
    function ShowAllReservation() {
        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", "https://reqres.in/api/users/2", true);
        xhttp.send();
 
        xhttp.onreadystatechange = function () {
            var tbody = document.getElementById("apiTable").querySelector("tbody");
            tbody.innerHTML = "";
            if (this.readyState == 4 && this.status == 200) {

                var temp = JSON.parse(this.response);
                tbody.innerHTML += "<tr><td>" + temp.data.id + "</td>" + "<td>" + temp.data.email + "</td>" + "<td>" + temp.data.first_name + "</td>" + "<td>" + temp.data.last_name + "</td></tr>";

                //JSON.parse(this.responseText).forEach(function (data, index) {
                //    tbody.innerHTML += "<tr><td>" + data.id + "</td>" + "<td>" + data.email + "</td>" + "<td>" + data.first_name + "</td>" + "<td>" + data.last_name + "</td></tr>";
                //});
            }
        };
    }
</script>
